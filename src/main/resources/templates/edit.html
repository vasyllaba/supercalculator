<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: head"></head>

<body class="bg-light">
<div th:replace="fragments/navbar :: navbar"></div>

<main class="container" style="margin-top: 100px;">
    <div class="my-3 p-3 bg-body rounded shadow-sm">
        <form class="row g-3 needs-validation" id="calculateForm" method="post" modelAttribute="calculator"
              th:action="@{'/calculation/edit'(id=${calculator.id})}">
            <h6 class="border-bottom pb-2 mb-0">Expression:</h6>
            <div class="form-floating mb-3">
                <input type="text" form="calculateForm" th:value="${calculator?.id}" field="*{id}" class="d-none" id="id" name="id">

                <input type="text" name="expression" th:value="${calculator?.expression}" class="form-control"
                       id="expression" placeholder="(2 + 5) * 2">
                <label for="expression" >Input expression</label>
                <span class="text-danger" th:if="${errorMessage}"  th:text="${errorMessage}">Error</span>
            </div>
            <h6 class="border-bottom pb-2 mb-0">Result:</h6>
            <div class="form-floating mb-3">
                <input type="number" th:value="${calculator?.result}" class="form-control" id="result" readonly>
            </div>
        </form>
        <div class="row">
            <div class="col-3">
            </div>
            <div class="col-6">
                <button class="w-100 btn btn-lg btn-primary" type="submit"
                        form="calculateForm">Recalculate</button>
            </div>
            <div class="col-3">
                <a th:method="get" class="w-100 btn btn-lg btn-primary" th:href="@{'/'}">New calculating</a>
            </div>
        </div>
    </div>
</main>

</body>
</html>
